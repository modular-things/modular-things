---
let things = await Astro.glob(`../../../things/_things.json`);

things = things[0].default;
---

<head>
  <meta charset="utf-8">
  <base href="/modular-things/things/">
</head>

<body>

<style>

  body {
    margin: 0px;
    padding: 0px;
    background: #eeeeee;
    font-family: Helvetica,Arial,Sans-Serif;
  }

  .title {
    padding: .6rem 2rem;
    font-size: 2rem;
    background: #33e;
    color: white;
  }

  .things-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    width: 100%;
    padding-top: 2rem;
  }

  .thing-entry {
    color: inherit;
    text-decoration: none;
    font-weigth: normal;

    border: 2px solid black;
    width: 300px;
    aspect-ratio: 1;
    border-radius: .5rem;
    cursor: pointer;
    background: white;
    margin: 1rem;
  }

  .thing-entry:hover {
    background: #ffad0a8f;
  }

  .entry-title {
    padding: .5rem;
  }

  .entry-name {
    font-size: 1.5rem;
    text-align: center;
  }

  .entry-author {
    font-size: .9rem;
    color: #908686;
    text-align: center;
  }
</style>

<div class="title">Check out our collection of modular things!</div>

<div class="things-container">
  {things.map(t => {

    return <a class="thing-entry" href={`${t.name}`}>
      <div class="entry-title">
        <div class="entry-name">{t.name}</div>
        <div class="entry-author">{t.author}</div>
      </div>
      <div style={`
        background-image: url("https://raw.githubusercontent.com/modular-things/modular-things/main/things/${t.name}/${t.images[0].src}");
        background-size: cover;
        background-position: center center;
        background-repeat: no-repeat;
        width: 100%;
        aspect-ratio: 1;
      `}/>
      {/*<t.Content />*/}
    </a>
  })}
</div>

</body>